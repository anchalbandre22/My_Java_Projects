package com.app.tester;

import java.util.HashMap;
import java.util.Map;
import java.util.Scanner;
import static com.utils.PenValidations.*;

import com.app.exception.PenException;
import com.app.pen.Pen;

import static com.utils.PenUtils.*;

import com.utils.PenUtils;
import com.utils.updateResult;
public class PenTester {
	   private static int Id = 1;
	  
   public static void main(String args[]) {
	   try(Scanner sc = new Scanner(System.in)){
	   Map<Integer, Pen> pen = new HashMap<>();
	   PenUtils penutil=new PenUtils(); 
	   boolean exit = false;
	   while(!exit) {
		   System.out.println("1.Add Pen \n2.Display pen details \n3.Update Stock of pen "
					+ "\n4.Set discount of 20% for all the pens which " + "are not at all sold in last 3 months "
					+ "\n5.Remove Pens which are never sold once listed in 9 months" + "\n6 Exit");
		    System.out.println("Enter your choice");
	  switch(sc.nextInt()){
	  
	  case 1 : System.out.println("Add a pen details:");
	           System.out.println("BrandType,Color,InkColor, Materialtype,Quantity,Updatedate,listingdate,Price,Discount");  
	            Pen addpen = validateInputs(Id , sc.next(), sc.next(), sc.next(), sc.next(), sc.nextDouble()
	    	            ,sc.next(),sc.next(), sc.nextDouble(), sc.nextDouble());
	             pen.put(Id, addpen);
	             System.out.println(addpen);
	             Id++;
	           
                 break;
                 
	  case 2 : System.out.println("display All Pen details"); 
	            for(Pen p : pen.values()) {
	            	System.out.println(p);
	            }
                break; 
	  case 3: 
	             
	             System.out.println("Update the Stock");
	             System.out.println("Enter the Id , StockQuantity");
	             updateResult result = penutil.updateStockAndPrice(sc.nextInt(), sc.nextDouble(), pen);
		         if(result!=null) {
		         System.out.println("Stocks updated Succesfully "+ result); }
		         else {
		        	System.out.println("Pen not found");
		         }
		         break;
	
	  case 4 : 	 PenUtils.addDiscount(pen); 
	             System.out.println("Discounts set for unsold pens.");
		         break;
		         
	  case 5 :  PenUtils.removePen(pen);
	             System.out.println("Pen remove Succesfully");  
	             break;
	  case 6 : exit = true;
	            break;
	            
	  } 
	   }
	   } 
   }
}
